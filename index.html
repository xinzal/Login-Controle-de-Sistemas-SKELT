<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Login - Controle de Sistemas - SKELT</title>
<style>
:root {
  --primary: #003c8f;
  --accent: #0277bd;
  --bg: #f5f7fa;
  --card: #fff;
  --text: #333;
  --footer-bg: #e0e3ea;
  --footer-text: #003c8f;
}

*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Arial,Helvetica,sans-serif;background-color:var(--bg);color:var(--text);overflow-x:hidden;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:100vh}

/* Banner */
.banner-carousel{position:relative;width:100%;height:250px;overflow:hidden;border-bottom:3px solid var(--primary);border-radius:0 0 15px 15px;box-shadow:0 4px 15px rgba(0,0,0,0.2)}
.banner-carousel img{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;opacity:0;transition:opacity 1s ease-in-out}
.banner-carousel img.active{opacity:1}

/* Login Box */
.login-box {
  background: var(--card);
  padding: 40px 30px;
  border-radius: 15px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  margin-top: 40px;
  width: 320px;
  text-align: center;
  animation: fadeInUp 1.5s ease;
  position: relative;
  z-index: 1;
}
.login-box h2 {color: var(--primary);margin-bottom: 25px;font-size: 1.8em;}
.login-box input {width: 100%;padding: 12px;margin: 10px 0;border-radius: 6px;border: 1px solid #ccc;font-size: 1em;}
.login-box button {
  width: 100%;padding: 12px;background: var(--accent);color: #fff;border: none;border-radius: 6px;cursor: pointer;font-size: 1.1em;font-weight: bold;
  box-shadow: 0 0 15px rgba(2,119,189,0.6);transition: all 0.3s ease;animation: pulseGlow 2s infinite;
  display: flex;
  align-items: center;
  justify-content: center;
}
.login-box button:hover{background: var(--primary);box-shadow: 0 0 25px rgba(3,155,229,0.9);transform: scale(1.05);}
.error {color: red;margin-top: 10px;}

/* Loader três bolinhas */
.btn-loader {
  display: flex;
  justify-content: center;
  align-items: flex-end;
  gap: 4px;
}
.btn-loader span {
  width: 6px;
  height: 6px;
  background: #fff;
  border-radius: 50%;
  display: inline-block;
  animation: bounce 0.6s infinite alternate;
}
.btn-loader span:nth-child(2) {animation-delay: 0.1s;}
.btn-loader span:nth-child(3) {animation-delay: 0.2s;}

@keyframes bounce {
  0% { transform: translateY(0); }
  100% { transform: translateY(-6px); }
}

/* Container senha com olho */
.password-container { position: relative; }
.password-container svg { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); width: 22px; height: 22px; cursor: pointer; fill: #555; transition: transform 0.3s ease; }
.password-container svg.open { transform: translateY(-50%) rotate(0deg); }
.password-container svg.closed { transform: translateY(-50%) rotate(180deg); }

/* Rodapé */
footer { margin-top:auto; padding:15px; background: var(--footer-bg); width:100%; color: var(--footer-text); text-align:center; font-size:14px; border-top:1px solid #ccc; }

/* Animações */
@keyframes pulseGlow{0%{box-shadow:0 0 10px rgba(3,155,229,0.3)}50%{box-shadow:0 0 25px rgba(3,155,229,0.8)}100%{box-shadow:0 0 10px rgba(3,155,229,0.3)}}
@keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}

/* Responsivo */
@media(max-width:768px){ .banner-carousel{height:180px} .login-box{width:90%;padding:30px} }

/* Fundo animado */
#bgCanvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0}
</style>
</head>
<body>

<canvas id="bgCanvas"></canvas>

<!-- Banner -->
<div class="banner-carousel">
  <img src="https://res.cloudinary.com/beleza-na-web/image/upload/f_auto,fl_progressive,q_auto:best/v1/vitrine/2022_11_29_10_14_40_8/9cf23f62-66b8-47d8-9871-43a216c0b5a2-skelt-banner-rosto.png" class="active">
  <img src="https://media.fashionnetwork.com/cdn-cgi/image/fit=contain,width=1000,height=1000,format=auto/m/322a/1301/1cb1/e5b4/4963/e53f/8636/6faa/8a9f/15d8/15d8.png">
  <img src="https://raichu-uploads.s3.amazonaws.com/companypageconfiguration_cc5a4439-560f-4646-8ed9-f8b901c49ba9.jpg">
  <img src="https://www.vincereincorporadora.com.br/wp-content/uploads/2022/07/no-meio-do-complexo.jpg">
</div>

<!-- Login -->
<div class="login-box">
  <h2>Login</h2>
  <input type="text" id="username" placeholder="Usuário">

  <div class="password-container">
    <input type="password" id="password" placeholder="Senha">
    <svg id="togglePassword" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="closed">
      <path d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"/>
      <circle cx="12" cy="12" r="2.5"/>
    </svg>
  </div>

  <button id="loginBtn">
    <span class="btn-text">Entrar</span>
    <span class="btn-loader" style="display:none;">
      <span></span><span></span><span></span>
    </span>
  </button>
  <p class="error" id="error-msg"></p>
</div>

<footer>Desenvolvido por João Lucas - Aprendiz - Supply Chain</footer>

<script>
/* Fundo animado */
const canvas=document.getElementById('bgCanvas');const ctx=canvas.getContext('2d');
canvas.width=window.innerWidth;canvas.height=window.innerHeight;
let waves=[];const colors=['rgba(3,155,229,0.3)','rgba(41,182,246,0.25)','rgba(33,150,243,0.2)'];
for(let i=0;i<3;i++){waves.push({y:canvas.height/2+i*30,amplitude:50+i*10,wavelength:200+i*50,speed:0.015+i*0.005,phase:0,color:colors[i]});}
function drawWave(w){ctx.beginPath();for(let x=0;x<canvas.width;x+=1){ctx.lineTo(x,w.y+Math.sin((x/w.wavelength)+w.phase)*w.amplitude);}ctx.strokeStyle=w.color;ctx.lineWidth=2;ctx.stroke();}
function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);waves.forEach(w=>{w.phase+=w.speed;drawWave(w);});requestAnimationFrame(animate);}animate();
window.addEventListener('resize',()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight});

/* Carrossel */
const imgs=document.querySelectorAll('.banner-carousel img');let current=0;
setInterval(()=>{imgs[current].classList.remove('active');current=(current+1)%imgs.length;imgs[current].classList.add('active');},6000);

/* Login via Web App */
function login() {
  const user = document.getElementById('username').value.trim();
  const pass = document.getElementById('password').value.trim();
  const errorMsg = document.getElementById('error-msg');

  const btn = document.getElementById('loginBtn');
  btn.querySelector('.btn-text').style.display = 'none';
  btn.querySelector('.btn-loader').style.display = 'flex';

  fetch(`https://script.google.com/macros/s/AKfycbx5zLHvFZFm_7COwdHLEpkE_DBKsGkhfAhGbiTxYUaVF58FGjJb1Ezb6QL4uvKLPjYItA/exec?user=${encodeURIComponent(user)}&pass=${encodeURIComponent(pass)}`)
    .then(response => response.text())
    .then(url => {
      btn.querySelector('.btn-text').style.display = 'inline-block';
      btn.querySelector('.btn-loader').style.display = 'none';
      url = url.trim();
      if (url && url !== "INVALID") {
        window.location.href = url;
      } else {
        errorMsg.textContent = "Usuário ou senha incorretos!";
      }
    })
    .catch(err => {
      btn.querySelector('.btn-text').style.display = 'inline-block';
      btn.querySelector('.btn-loader').style.display = 'none';
      console.log(err);
      errorMsg.textContent = "Erro de comunicação com o servidor!";
    });
}

// Ativa Enter para login
document.getElementById("username").addEventListener("keyup", function(e){if(e.key==="Enter"){login();}});
document.getElementById("password").addEventListener("keyup", function(e){if(e.key==="Enter"){login();}});
document.getElementById("loginBtn").addEventListener("click", login);

// Toggle senha
const togglePassword = document.getElementById("togglePassword");
const passwordInput = document.getElementById("password");
togglePassword.addEventListener("click", ()=>{
  const type = passwordInput.type === "password" ? "text" : "password";
  passwordInput.type = type;
  togglePassword.classList.toggle("open");
  togglePassword.classList.toggle("closed");
});
</script>
</body>
</html>
